{"$schema":"http://json-schema.org/draft-07/schema","title":"JSON Schema for hammerkit's build file","type":"object","additionalProperties":false,"properties":{"envs":{"$ref":"#/definitions/envMap"},"tasks":{"type":"object","additionalProperties":{"$ref":"#/definitions/task"}},"includes":{"$ref":"#/definitions/include"},"references":{"$ref":"#/definitions/reference"}},"definitions":{"envMap":{"type":"object","additionalProperties":{"type":"string"}},"taskCommand":{"anyOf":[{"type":"string"},{"type":"object","additionalProperties":false,"properties":{"cmd":{"type":"string"},"path":{"type":"string"}},"required":["cmd"]}]},"include":{"type":"object","additionalProperties":{"type":"string"}},"reference":{"type":"object","additionalProperties":{"type":"string"}},"taskSource":{"type":"array","items":{"type":"string"}},"taskGenerate":{"type":"array","items":{"type":"string"}},"taskDependency":{"type":"array","items":{"type":"string"}},"taskMount":{"type":"array","items":{"type":"string"}},"localTask":{"type":"object","additionalProperties":false,"properties":{"description":{"type":"string"},"extend":{"type":"string"},"envs":{"$ref":"#/definitions/envMap"},"deps":{"$ref":"#/definitions/taskDependency"},"watch":{"type":"boolean"},"src":{"$ref":"#/definitions/taskSource"},"generates":{"$ref":"#/definitions/taskGenerate"},"cmds":{"type":"array","items":{"$ref":"#/definitions/taskCommand"}}},"required":["cmds"]},"dockerTask":{"required":["cmds","image"],"additionalProperties":false,"properties":{"description":{"type":"string"},"extend":{"type":"string"},"envs":{"$ref":"#/definitions/envMap"},"deps":{"$ref":"#/definitions/taskDependency"},"watch":{"type":"boolean"},"shell":{"type":"string"},"image":{"type":"string"},"mounts":{"$ref":"#/definitions/taskMount"},"src":{"$ref":"#/definitions/taskSource"},"generates":{"$ref":"#/definitions/taskGenerate"},"cmds":{"type":"array","items":{"$ref":"#/definitions/taskCommand"}}}},"task":{"anyOf":[{"$ref":"#/definitions/dockerTask"},{"$ref":"#/definitions/localTask"}]}}}