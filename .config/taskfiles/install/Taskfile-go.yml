---
version: '3'

tasks:
  goget:
    deps:
      - :install:software:go
    run: when_changed
    cmds:
      - go get {{.PACKAGE}}
    status:
      - type {{.BIN}} &> /dev/null

  gotestsum:
    run: once
    cmds:
      - task: goget
        vars:
          BIN: gotestsum
          PACKAGE: gotest.tools/gotestsum
